{"version":3,"sources":["webpack:///./public/javascripts/main.ts","webpack:///./public/javascripts/onboarding.component.js","webpack:///./public/javascripts/rest.service.js"],"names":[],"mappings":";;;;;;AAAA,sDAA2B,CAC3B,CAAC,CAD6D;AAC9D,kDAAkC,GAElC,CAAC,CAFyD;AAE1D,qCAAS,CAAC,0CAAmB,CAAC,CAAC;;;;;;;;ACH/B;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,yCAAyC,EAAE,oBAAoB,uCAAuC,EAAE;AAC9K;AACA;AACA;AACA;AACA;AACA,qCAAoC,yBAAyB,6BAA6B,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,gCAAgC,GAAG;AACrK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,cAAc;AAC/D,0DAAyD,wBAAwB,aAAa,wBAAwB,mBAAmB,GAAG;AAC5I;AACA,UAAS;AACT;AACA;AACA;AACA,EAAC;AACD;AACA,iD;;;;;;;AC1FA;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,qCAAqC;AAC/E,kDAAiD,mBAAmB;AACpE;AACA,kCAAiC,mBAAmB,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,yC","file":"./dist/bundle.js","sourcesContent":["import {bootstrap}    from '@angular/platform-browser-dynamic'\r\nimport {OnboardingComponent} from './onboarding.component'\r\n\r\nbootstrap(OnboardingComponent);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/main.ts\n **/","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = require('@angular/core');\r\nvar rest_service_1 = require('./rest.service');\r\nvar http_1 = require('@angular/http');\r\nvar OnboardingComponent = (function () {\r\n    function OnboardingComponent(_restService) {\r\n        this._restService = _restService;\r\n        this.active = true;\r\n        this.errorMessage = '';\r\n        this.email = '';\r\n        this.username = '';\r\n        this.password = '';\r\n        this.password2 = '';\r\n        this.successMessage = '';\r\n        this.isformvalid = false;\r\n        //  this.heroes = this._heroService.getHeroes();\r\n    }\r\n    OnboardingComponent.prototype.ngOnInit = function () {\r\n    };\r\n    OnboardingComponent.prototype.onSubmit = function (onbordingForm) {\r\n        var _this = this;\r\n        if (onbordingForm.value.password != onbordingForm.value.password2) {\r\n            this.errorMessage = \"les mots de pass sont differentes. Entree let mot the pass correctement\";\r\n            return;\r\n        }\r\n        var success;\r\n        var failure;\r\n        this._restService.onboarding(this).subscribe(function (data) { return _this.sussesfullOnboarding(data); }, function (error) { return _this.failureOnboarding(error); });\r\n        if (this.successMessage) {\r\n            this.active = false;\r\n        }\r\n    };\r\n    OnboardingComponent.prototype.validateEmail = function (event) {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (!re.test(event.target.value)) {\r\n            event.target.className = \"ng-pristine ng-invalid ng-touched\";\r\n        }\r\n        else {\r\n            event.target.className = \"ng-touched ng-dirty ng-valid\";\r\n        }\r\n    };\r\n    OnboardingComponent.prototype.validatePassword1 = function (event) {\r\n        if (this.password2 != '' && event.target.value != this.password2) {\r\n            event.target.className = \"ng-pristine ng-invalid ng-touched\";\r\n        }\r\n        else {\r\n            event.target.className = \"ng-touched ng-dirty ng-valid\";\r\n        }\r\n    };\r\n    OnboardingComponent.prototype.validatePassword2 = function (event) {\r\n        if (this.password != '' && event.target.value != this.password) {\r\n            event.target.className = \"ng-pristine ng-invalid ng-touched\";\r\n        }\r\n        else {\r\n            event.target.className = \"ng-touched ng-dirty ng-valid\";\r\n        }\r\n    };\r\n    OnboardingComponent.prototype.sussesfullOnboarding = function (data) {\r\n        var quickvalidation = data;\r\n        if (quickvalidation.error != \"\") {\r\n            this.errorMessage = quickvalidation.error;\r\n        }\r\n        else {\r\n            $('.ui.modal').modal('hide');\r\n        }\r\n    };\r\n    OnboardingComponent.prototype.failureOnboarding = function (error) {\r\n        var quickvalidation = JSON.stringify(error);\r\n    };\r\n    OnboardingComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'my-app',\r\n            template: \"\\n    <div>\\n      <div>{{errorMessage}}</div>\\n   </div>\\n  <form class=\\\"ui form onboarding\\\" enctype=\\\"multipart/form-data\\\"  *ngIf=\\\"active\\\" (ngSubmit)=\\\"onSubmit(onbordingForm)\\\" #onbordingForm=\\\"ngForm\\\">\\n  \\n  <div class=\\\"field\\\">\\n    <label>Email</label>\\n    <input  [(ngModel)]=\\\"email\\\" placeholder=\\\"email\\\" name=\\\"email\\\" type=\\\"email\\\" required (blur)=\\\"validateEmail($event)\\\"\\n    ngControl=\\\"email\\\" >\\n  </div>\\n    \\n  <div class=\\\"field\\\">\\n    <label>Nom d'Utilisateur</label>\\n    <input [(ngModel)]=\\\"username\\\" placeholder=\\\"username\\\" name=\\\"username\\\" type=\\\"text\\\" minlength=\\\"4\\\" required  ngControl=\\\"username\\\">\\n  </div>\\n  \\n  <div class=\\\"field\\\">\\n    <label>Password</label>\\n    <input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" name=\\\"password\\\" minlength=\\\"4\\\" required ngControl=\\\"password\\\" (keyup)=\\\"validatePassword1($event)\\\">\\n  </div>\\n  \\n  <div class=\\\"field\\\">\\n    <label>Retapez Password</label>\\n    <input [(ngModel)]=\\\"password2\\\" type=\\\"password\\\" name=\\\"password2\\\" minlength=\\\"4\\\" required ngControl=\\\"password2\\\" (keyup)=\\\"validatePassword2($event)\\\">\\n  </div>\\n  \\n  <button  class=\\\"ui blue submit button\\\" type=\\\"submit\\\" [disabled]=\\\"!onbordingForm.form.valid\\\">Submit</button>\\n <div class=\\\"ui error message\\\"></div>\\n  </form>\\n  \",\r\n            styles: [\"\\n  \\ninput.ng-invalid.ng-touched {\\n  background: #fff6f6; /* red */\\n}\\n\\n.ui.form.onboarding{\\n    width: 350px;\\n}\\n  \\n  \"],\r\n            providers: [rest_service_1.RestService, http_1.HTTP_PROVIDERS]\r\n        }), \r\n        __metadata('design:paramtypes', [rest_service_1.RestService])\r\n    ], OnboardingComponent);\r\n    return OnboardingComponent;\r\n}());\r\nexports.OnboardingComponent = OnboardingComponent;\r\n//# sourceMappingURL=onboarding.component.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/javascripts/onboarding.component.js\n ** module id = 280\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = require('@angular/core');\r\nvar http_1 = require('@angular/http');\r\nvar Observable_1 = require('rxjs/Observable');\r\nvar http_2 = require('@angular/http');\r\nrequire('rxjs/Rx');\r\nvar RestService = (function () {\r\n    function RestService(http) {\r\n        this.http = http;\r\n        this._onboardingUrl = 'https://www.assembleechretienne.com/onboarding'; // URL to web api\r\n    }\r\n    RestService.prototype.handleError = function (error) {\r\n        // in a real world app, we may send the error to some remote logging infrastructure\r\n        // instead of just logging it to the console\r\n        console.error(error);\r\n        return Observable_1.Observable.throw(error.json().error || 'Server error');\r\n    };\r\n    RestService.prototype.onboarding = function (OnboardingComponent) {\r\n        var body = JSON.stringify(OnboardingComponent);\r\n        var headers = new http_2.Headers({ 'Content-Type': 'application/json' });\r\n        var options = new http_2.RequestOptions({ headers: headers });\r\n        return this.http.post(this._onboardingUrl, body, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(this.handleError);\r\n    };\r\n    RestService.prototype.getHeroes = function () {\r\n        return 'test';\r\n    };\r\n    RestService = __decorate([\r\n        core_1.Injectable(), \r\n        __metadata('design:paramtypes', [http_1.Http])\r\n    ], RestService);\r\n    return RestService;\r\n}());\r\nexports.RestService = RestService;\r\n//# sourceMappingURL=rest.service.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/javascripts/rest.service.js\n ** module id = 281\n ** module chunks = 0\n **/"],"sourceRoot":""}