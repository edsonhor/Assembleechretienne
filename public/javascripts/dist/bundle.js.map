{"version":3,"sources":["webpack:///./public/javascripts/main.ts","webpack:///./public/javascripts/onboarding.component.ts","webpack:///./public/javascripts/rest.service.ts"],"names":[],"mappings":"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","file":"./public/javascripts/dist/bundle.js","sourcesContent":["import {bootstrap}    from '@angular/platform-browser-dynamic'\r\nimport {OnboardingComponent} from './onboarding.component'\r\nbootstrap(OnboardingComponent);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/main.ts\n **/","import {Component} from '@angular/core';\r\nimport {User} from './User';\r\nimport {RestService} from './rest.service';\r\nimport {OnInit} from '@angular/core';\r\nimport {Http, HTTP_PROVIDERS} from '@angular/http';\r\n\r\n@Component({\r\n    selector: 'my-app',\r\n    template:`\r\n    <div>\r\n      <div>{{errorMessage}}</div>\r\n   </div>\r\n  <form class=\"ui form onboarding\" enctype=\"multipart/form-data\"  *ngIf=\"active\" (ngSubmit)=\"onSubmit(onbordingForm)\" #onbordingForm=\"ngForm\">\r\n  \r\n  <div class=\"field\">\r\n    <label>Email</label>\r\n    <input  [(ngModel)]=\"email\" placeholder=\"email\" name=\"email\" type=\"email\" required (blur)=\"validateEmail($event)\"\r\n    ngControl=\"email\" >\r\n  </div>\r\n    \r\n  <div class=\"field\">\r\n    <label>Nom d'Utilisateur</label>\r\n    <input [(ngModel)]=\"username\" placeholder=\"username\" name=\"username\" type=\"text\" minlength=\"4\" required  ngControl=\"username\">\r\n  </div>\r\n  \r\n  <div class=\"field\">\r\n    <label>Password</label>\r\n    <input [(ngModel)]=\"password\" type=\"password\" name=\"password\" minlength=\"4\" required ngControl=\"password\" (keyup)=\"validatePassword1($event)\">\r\n  </div>\r\n  \r\n  <div class=\"field\">\r\n    <label>Retapez Password</label>\r\n    <input [(ngModel)]=\"password2\" type=\"password\" name=\"password2\" minlength=\"4\" required ngControl=\"password2\" (keyup)=\"validatePassword2($event)\">\r\n  </div>\r\n  \r\n  <button  class=\"ui blue submit button\" type=\"submit\" [disabled]=\"!onbordingForm.form.valid\">Submit</button>\r\n <div class=\"ui error message\"></div>\r\n  </form>\r\n  `,\r\n  styles: [`\r\n  \r\ninput.ng-invalid.ng-touched {\r\n  background: #fff6f6; /* red */\r\n}\r\n\r\n.ui.form.onboarding{\r\n    width: 350px;\r\n}\r\n  \r\n  `],\r\n  providers: [RestService , HTTP_PROVIDERS]\r\n})\r\nexport class OnboardingComponent implements OnInit{ \r\n  \r\n  public active=true;\r\n  public errorMessage: string='';\r\n  public email: string = '';\r\n  public username: string = '';\r\n  public password:  string='';\r\n  public password2: string ='';\r\n  public successMessage:string='';\r\n  public isformvalid:boolean =false;\r\n  \r\n   constructor(private _restService: RestService) { \r\n      //  this.heroes = this._heroService.getHeroes();\r\n   }\r\n   \r\n \r\n  \r\n  ngOnInit() {\r\n\r\n  }\r\n  \r\n  onSubmit(onbordingForm){\r\n      if(onbordingForm.value.password != onbordingForm.value.password2){\r\n          this.errorMessage=\"les mots de pass sont differentes. Entree let mot the pass correctement\"\r\n          return;\r\n      }\r\n      var success;\r\n      var failure;\r\n      this._restService.onboarding(this).subscribe(\r\n          data  => this.sussesfullOnboarding(data),\r\n          error => this.failureOnboarding(error)\r\n      )\r\n      \r\n      if(this.successMessage){\r\n          this.active=false;\r\n      }\r\n  }\r\n  \r\nvalidateEmail(event:any) {\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if(!re.test(event.target.value)){\r\n        event.target.className=\"ng-pristine ng-invalid ng-touched\";\r\n        \r\n    }else{\r\n        event.target.className=\"ng-touched ng-dirty ng-valid\"\r\n    }\r\n    \r\n}\r\n\r\nvalidatePassword1(event:any) {\r\n    if(this.password2 !='' && event.target.value != this.password2){\r\n         event.target.className=\"ng-pristine ng-invalid ng-touched\";\r\n    }\r\n    else{\r\n        event.target.className=\"ng-touched ng-dirty ng-valid\";\r\n    }\r\n  }\r\n   \r\n   validatePassword2(event:any) \r\n   {\r\n    if(this.password !='' && event.target.value != this.password){\r\n         event.target.className=\"ng-pristine ng-invalid ng-touched\";\r\n    }\r\n    else{\r\n        event.target.className=\"ng-touched ng-dirty ng-valid\";\r\n    }\r\n   }\r\n   \r\n   sussesfullOnboarding(data){\r\n     var quickvalidation=data;\r\n     if(quickvalidation.error !=\"\"){\r\n         this.errorMessage=quickvalidation.error;\r\n     }\r\n     else{\r\n          $('.ui.modal').modal('hide');\r\n     }\r\n       \r\n   }\r\n   \r\n   failureOnboarding(error){\r\n       var quickvalidation=JSON.stringify(error);\r\n   }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/onboarding.component.ts\n **/","import {Injectable} from '@angular/core';\r\nimport {Http, Response} from '@angular/http';\r\nimport {Observable}     from 'rxjs/Observable';\r\nimport {Headers, RequestOptions} from '@angular/http';\r\nimport {User}     from './User';\r\nimport {OnboardingComponent} from './onboarding.component'\r\nimport 'rxjs/Rx';\r\n\r\n\r\n@Injectable()\r\nexport class RestService {\r\n   \r\n    constructor (private http: Http) {}\r\n    \r\n  private _onboardingUrl = 'https://www.assembleechretienne.com/onboarding';  // URL to web api\r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n\r\n  private handleError (error: Response) {\r\n    // in a real world app, we may send the error to some remote logging infrastructure\r\n    // instead of just logging it to the console\r\n    console.error(error);\r\n    return Observable.throw(error.json().error || 'Server error');\r\n  }\r\n  \r\n   \r\n   \r\n   onboarding (OnboardingComponent: OnboardingComponent) : Observable<any>  {\r\n\r\n    let body = JSON.stringify(OnboardingComponent);\r\n    let headers = new Headers({ 'Content-Type': 'application/json' });\r\n    let options = new RequestOptions({ headers: headers });\r\n\r\n    return this.http.post(this._onboardingUrl, body, options)\r\n                                .map(res => res.json())\r\n                                  .catch(this.handleError)\r\n    \r\n    ;\r\n  }\r\n  \r\n    getHeroes() {\r\n         return 'test'\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/rest.service.ts\n **/"],"sourceRoot":""}